package io.github.habatoo.services;

import io.github.habatoo.dto.TransferDto;
import reactor.core.publisher.Mono;

/**
 * Сервис для осуществления денежных переводов между пользователями системы.
 * <p>
 * Данный сервис управляет бизнес-логикой межбалансовых транзакций.
 * Функциональный блок в интерфейсе включает в себя:
 * <ul>
 * <li>Выбор целевого аккаунта получателя из списка доступных.</li>
 * <li>Ввод суммы перевода (поддерживаются дробные значения).</li>
 * <li>Проверку достаточности средств на счету отправителя перед выполнением транзакции.</li>
 * </ul>
 * </p>
 */
public interface TransferFrontService {

    /**
     * Выполняет процедуру перевода денежных средств на счет другого клиента.
     * <p>
     * Метод инициирует транзакцию, которая уменьшает баланс отправителя и
     * увеличивает баланс получателя. Операция является атомарной на уровне
     * бизнес-логики микросервисов.
     * </p>
     *
     * @param transferDto объект передачи данных, содержащий идентификатор (логин)
     *                    получателя и сумму перевода.
     * @return {@link Mono}, содержащий строку перенаправления на главную страницу.
     * При успешном завершении добавляется параметр {@code info},
     * при ошибке (например, нехватка средств) — параметр {@code error}.
     */
    Mono<String> sendMoney(TransferDto transferDto);
}
