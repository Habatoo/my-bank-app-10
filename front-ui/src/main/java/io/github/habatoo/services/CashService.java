package io.github.habatoo.services;

import io.github.habatoo.dto.CashDto;
import reactor.core.publisher.Mono;

/**
 * Сервис для управления операциями с наличными средствами.
 * <p>
 * Обеспечивает логику внесения (депозит) и снятия (выплата) виртуальных денег.
 * Блок интерфейса, обслуживаемый данным сервисом, включает:
 * <ul>
 * <li>Поле ввода суммы операции (обязательное).</li>
 * <li>Кнопку «Пополнить» для увеличения баланса.</li>
 * <li>Кнопку «Снять» для уменьшения баланса (с проверкой на достаточность средств).</li>
 * </ul>
 * </p>
 */
public interface CashService {

    /**
     * Выполняет операцию изменения баланса пользователя (зачисление или списание).
     * <p>
     * Метод взаимодействует с микросервисом аккаунтов. В случае снятия суммы,
     * превышающей текущий остаток, возвращает перенаправление с описанием ошибки.
     * </p>
     *
     * @param cashDto объект, содержащий сумму операции и тип действия (GET/PUT).
     * @return {@link Mono}, содержащий строку перенаправления (URL) на главную страницу
     * с параметрами результата (info или error).
     */
    Mono<String> moveMoney(CashDto cashDto);
}
