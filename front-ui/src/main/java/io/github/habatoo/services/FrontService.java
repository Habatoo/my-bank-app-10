package io.github.habatoo.services;

import org.springframework.web.reactive.result.view.Rendering;
import reactor.core.publisher.Mono;

/**
 * Сервис формирования графического интерфейса пользователя (Front-end API).
 * <p>
 * Данный сервис отвечает за агрегацию данных из различных микросервисов
 * (баланс, профиль пользователя, список доступных счетов) и их подготовку
 * для слоя отображения Thymeleaf.
 * </p>
 */
public interface FrontService {

    /**
     * Формирует модель данных для отображения главной страницы личного кабинета.
     * <p>
     * Метод выполняет параллельные запросы к микросервисам для получения актуального
     * состояния счета и данных пользователя. Также обрабатывает входящие уведомления
     * об успехах или ошибках предыдущих операций для вывода их пользователю.
     * </p>
     *
     * @param info  текстовое сообщение об успешном выполнении операции (может быть null).
     * @param error текстовое сообщение об ошибке, возникшей при выполнении операции (может быть null).
     * @return {@link Mono}, содержащий объект {@link Rendering} с предзаполненной моделью
     * атрибутов (сумма, имя, счета) и ссылкой на HTML-шаблон страницы.
     */
    Mono<Rendering> showMainPage(String info, String error);
}
